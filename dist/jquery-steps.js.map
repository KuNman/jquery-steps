{"version":3,"file":"jquery-steps.js","sources":["../src/Defaults.js","../src/Steps.js","../src/Plugin.js"],"sourcesContent":["export default {\n  startAt: 0,\n  showBackButton: true,\n  showFooterButtons: true,\n  onInit: $.noop,\n  onDestroy: $.noop,\n  onFinish: $.noop,\n  onChange() { return true; },\n};\n","import $ from 'jquery';\nimport DEFAULTS from './Defaults';\n\nclass Steps {\n  constructor(element, options) {\n    // Extend defaults with the init options.\n    this.options = $.extend({}, DEFAULTS, options);\n\n    // Store main DOM element.\n    this.el = $(element);\n\n    // Initialize\n    this.init();\n  }\n\n  init() {\n    this.hook('onInit');\n    const self = this;\n\n    // step click event\n    $(this.el).on('click', '.step-steps > li > a', function (e) {\n      e.preventDefault();\n      const nextStep = $(this).closest('li').index();\n      const stepIndex = self.getStepIndex();\n      self.setActiveStep(stepIndex, nextStep);\n    });\n\n    // button click event\n    $(this.el).on('click', '.step-footer > button', function (e) {\n      e.preventDefault();\n      const statusAction = $(this).data('direction');\n      self.setAction(statusAction);\n    });\n\n    // set default step\n    this.setShowStep(this.options.startAt, '', 'active');\n    this.setFooterBtns();\n\n    // show footer buttons\n    if (!this.options.showFooterButtons) {\n      this.hideFooterBtns();\n      this.setFooterBtns = $.noop;\n    }\n  }\n\n  hook(hookName) {\n    if (this.options[hookName] !== undefined) {\n      this.options[hookName].call(this.el);\n    }\n  }\n\n  destroy() {\n    this.el.empty();\n    this.el.removeData('plugin_Steps');\n    this.hook('onDestroy');\n  }\n\n  getStepIndex() {\n    const stepIndex = this.el.find('.step-steps > li.active').index();\n    return stepIndex || 0;\n  }\n\n  getMaxStepCount() {\n    return this.el.find('.step-steps > li').length - 1;\n  }\n\n  getStepDirection(stepIndex, newIndex) {\n    let direction = 'none';\n    if (newIndex < stepIndex) {\n      direction = 'backward';\n    } else if (newIndex > stepIndex) {\n      direction = 'forward';\n    }\n    return direction;\n  }\n\n  setShowStep(idx, removeClass, addClass = '') {\n    this.el.find('.step-content > .step-tab-panel').removeClass('active');\n    const $prevStep = this.el.find('.step-steps > li').eq(idx);\n    $prevStep.removeClass(removeClass).addClass(addClass);\n    const targetStep = $prevStep.find('a').attr('href');\n    $(targetStep).addClass('active');\n  }\n\n  setActiveStep(currentIndex, newIndex) {\n    if (newIndex !== currentIndex) {\n      if (newIndex > currentIndex) {\n        for (let i = 0; i <= newIndex; i += 1) {\n          const lastTab = i === newIndex;\n          if (lastTab) {\n            this.setShowStep(i, 'done', 'active');\n          } else {\n            this.setShowStep(i, 'active error', 'done');\n          }\n          const stepDirectionF = this.getStepDirection(i, newIndex);\n          const validStep = this.options.onChange(i, newIndex, stepDirectionF);\n          if (!validStep) {\n            this.setShowStep(i, 'done', 'error active');\n            this.setFooterBtns();\n            break;\n          }\n        }\n      }\n\n      if (currentIndex > newIndex) {\n        for (let i = currentIndex; i >= newIndex; i -= 1) {\n          const stepDirectionB = this.getStepDirection(i, newIndex);\n          this.options.onChange(i, newIndex, stepDirectionB);\n          this.setShowStep(i, 'done active error');\n          if (i === newIndex) {\n            this.setShowStep(i, 'done error', 'active');\n          }\n        }\n      }\n\n      this.setFooterBtns();\n    }\n  }\n\n  setFooterBtns() {\n    const stepIndex = this.getStepIndex();\n    const maxIndex = this.getMaxStepCount();\n    const $footer = this.el.find('.step-footer');\n\n    if (stepIndex === 0) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n\n    if (stepIndex > 0 && this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n    }\n\n    if (maxIndex === stepIndex) {\n      $footer.find('button[data-direction=\"prev\"]').show();\n      $footer.find('button[data-direction=\"next\"]').hide();\n      $footer.find('button[data-direction=\"finish\"]').show();\n    } else {\n      $footer.find('button[data-direction=\"next\"]').show();\n      $footer.find('button[data-direction=\"finish\"]').hide();\n    }\n\n    if (!this.options.showBackButton) {\n      $footer.find('button[data-direction=\"prev\"]').hide();\n    }\n  }\n\n  setAction(action) {\n    const stepIndex = this.getStepIndex();\n    let nextStep = stepIndex;\n    if (action === 'prev') { nextStep -= 1; }\n    if (action === 'next') { nextStep += 1; }\n    if (action === 'finish') {\n      const validStep = this.options.onChange(stepIndex, nextStep, 'forward');\n      if (validStep) {\n        this.hook('onFinish');\n      } else {\n        this.setShowStep(stepIndex, '', 'error');\n      }\n    }\n    if (action !== 'finish') { this.setActiveStep(stepIndex, nextStep); }\n  }\n\n  hideFooterBtns() {\n    this.el.find('.step-footer').hide();\n  }\n\n  static setDefaults(options) {\n    $.extend(DEFAULTS, $.isPlainObject(options) && options);\n  }\n\n}\n\nexport default Steps;\n","import $ from 'jquery';\nimport Steps from './Steps';\n\nconst other = $.fn.steps;\n\n$.fn.steps = function (options) {\n  return this.each(function () {\n    if (!$.data(this, 'plugin_Steps')) {\n      $.data(this, 'plugin_Steps', new Steps(this, options));\n    }\n  });\n};\n\n$.fn.steps.version = '1.0.0';\n$.fn.steps.setDefaults = Steps.setDefaults;\n\n// No conflict\n$.fn.steps.noConflict = function () {\n  $.fn.steps = other;\n  return this;\n};\n"],"names":["$","noop","Steps","element","options","extend","DEFAULTS","el","init","hook","self","on","e","preventDefault","nextStep","closest","index","stepIndex","getStepIndex","setActiveStep","statusAction","data","setAction","setShowStep","startAt","setFooterBtns","showFooterButtons","hideFooterBtns","hookName","undefined","call","empty","removeData","find","length","newIndex","direction","idx","removeClass","addClass","$prevStep","eq","targetStep","attr","currentIndex","i","lastTab","stepDirectionF","getStepDirection","validStep","onChange","stepDirectionB","maxIndex","getMaxStepCount","$footer","hide","showBackButton","show","action","isPlainObject","other","fn","steps","each","version","setDefaults","noConflict"],"mappings":"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"}